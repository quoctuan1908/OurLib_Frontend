import{_ as k,u as m,L as p,l as _,c as a,a as s,w as g,b as v,f as r,F as n,r as c,h as d,o as i,x as u,t as f}from"./index-CGxaM7HO.js";const y=[],L={data(){return{books:y,numberOfBooksInOneList:8,sortOption:"tensach",isActive:0,isReady:!1}},components:{BookList:m,VueSkeletonLoader:p},methods:{async getBooks(){const o=await _.getAll();this.books=o,this.isReady=!0},refreshList(){this.getBooks()},checkRole(){localStorage.getItem("role")==="admin"&&this.$router.push({name:"admin"})},toOtherPage(o){this.isActive=o,console.log(o)},sortSelect(){this.books.sort((o,e)=>`a.${this.sortOption}`.localeCompare(`b.${this.sortOption}`))}},mounted(){this.refreshList(),this.checkRole()}},O={class:""},S=s("option",{value:"tensach"},"Order by Name",-1),B=s("option",{value:"tacgia"},"Order by Writer Name",-1),w=s("option",{value:"namxuatban"},"Order by Release Year",-1),C=[S,B,w],A={id:"carouselExampleDark",class:"carousel carousel-dark slide transition-02"},V={class:"carousel-inner transition-02 default-height"},$={class:"card-buttons-custom"},D=s("i",{class:"fa-solid fa-arrow-left"},null,-1),R=[D],x=["data-bs-slide-to","onClick"],E=s("i",{class:"fa-solid fa-arrow-right"},null,-1),M=[E];function N(o,e,P,z,F,l){const h=d("VueSkeletonLoader"),b=d("BookList");return i(),a("div",O,[s("div",null,[g(s("select",{onChange:e[0]||(e[0]=(...t)=>this.sortSelect&&this.sortSelect(...t)),"onUpdate:modelValue":e[1]||(e[1]=t=>this.sortOption=t),class:"form-control"},C,544),[[v,this.sortOption]])]),s("div",A,[s("div",V,[r(h,{type:"image@2",loading:!this.isReady,height:"300px",class:"loading-custom"},null,8,["loading"]),(i(!0),a(n,null,c(Math.ceil(this.books.length/10),t=>(i(),a("div",{class:u("carousel-item transition-02 "+(t-1==0?"active":"")),key:t},[r(b,{booksList:this.books.slice((t-1)*10,(t-1)*10+10),size:2,class:"d-flex flex-wrap border justify-content-center overflow-auto"},null,8,["booksList"])],2))),128))]),s("div",$,[s("button",{class:"button-custom",type:"button","data-bs-target":"#carouselExampleDark","data-bs-slide":"prev",onClick:e[2]||(e[2]=t=>l.toOtherPage(this.isActive-1>=0?this.isActive-1:Math.ceil(this.books.length/10)-1))},R),(i(!0),a(n,null,c(Math.ceil(this.books.length/10),t=>(i(),a("button",{key:t,type:"button","data-bs-target":"#carouselExampleDark","data-bs-slide-to":t-1,class:u("button-custom "+(this.isActive==t-1?" active-btn":"")),"aria-current":"true","aria-label":"Slide 1",onClick:I=>l.toOtherPage(t-1)},f(t),11,x))),128)),s("button",{class:"button-custom",type:"button","data-bs-target":"#carouselExampleDark","data-bs-slide":"next",onClick:e[3]||(e[3]=t=>l.toOtherPage((this.isActive+1)%Math.ceil(this.books.length/10)))},M)])])])}const U=k(L,[["render",N]]);export{U as default};
