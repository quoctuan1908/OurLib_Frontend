import{_ as c,R as _,y as w,o as d,c as p,a as o,w as i,v as l,g as u,k,t as b,x as y,e as m,i as g,d as x}from"./index-B5kzTMAY.js";const L={name:"UserForm",data(){return{loginData:{},message:null}},components:{RouterLink:_},methods:{async handleLogin(){const n=new FormData;n.append("data",JSON.stringify(this.loginData));let e=await w.login(n);e.data.statusCode===200?(localStorage.setItem("token",JSON.stringify(e.data.token)),localStorage.setItem("name",e.data.name),localStorage.setItem("id",e.data.id),localStorage.setItem("role",e.data.role),this.emitter.emit("logged",{isLogged:!0,name:e.data.name}),this.$router.push({name:"home"})):this.message=e.data.message},gotoSignUp(){this.$router.push({name:"signup"})}}},v={class:"form-control form-custom"},S=o("h1",{class:"form-title"},"Login",-1),C={class:"mb-3"},D=o("label",{for:"exampleInputEmail1",class:"form-label"},"Username",-1),I={class:"mb-3"},U=o("label",{for:"exampleInputPassword1",class:"form-label"},"Password",-1),V={class:"forgot-password-link-container"},F=o("div",{class:"mb-3 form-check"},[o("input",{type:"checkbox",class:"form-check-input",id:"exampleCheck1"}),o("label",{class:"form-check-label",for:"exampleCheck1"},"Check me out")],-1);function N(n,e,f,h,s,a){const r=g("RouterLink");return d(),p("form",v,[S,o("div",C,[D,i(o("input",{type:"username",name:"username",class:"form-control form-input-custom icon-custom",id:"exampleInputEmail1","aria-describedby":"emailHelp","onUpdate:modelValue":e[0]||(e[0]=t=>s.loginData.username=t),placeholder:" Type your username",required:""},null,512),[[l,s.loginData.username]])]),o("div",I,[U,i(o("input",{type:"password",name:"password",class:"form-control form-input-custom icon-custom",id:"exampleInputPassword1","onUpdate:modelValue":e[1]||(e[1]=t=>s.loginData.password=t),placeholder:" Type your password",required:""},null,512),[[l,s.loginData.password]])]),o("div",V,[u(r,{to:"#",class:"forgot-password-link"},{default:k(()=>[x("Forgot password ?")]),_:1})]),o("div",{id:"message",class:y(this.message?"alert alert-warning":"")},b(this.message),3),F,o("button",{type:"submit",class:"btn btn-primary",onClick:e[2]||(e[2]=m((...t)=>a.handleLogin&&a.handleLogin(...t),["prevent"]))},"Login"),o("button",{type:"button",onClick:e[3]||(e[3]=m((...t)=>a.gotoSignUp&&a.gotoSignUp(...t),["prevent"]))},"Sign up")])}const R=c(L,[["render",N]]),T={name:"LoginView",data(){return{}},components:{LoginForm:R}};function $(n,e,f,h,s,a){const r=g("LoginForm");return d(),p("div",null,[u(r,{class:"formCustom"})])}const E=c(T,[["render",$]]);export{E as default};
