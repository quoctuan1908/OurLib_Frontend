import{_,q as m,o,c as r,a as t,e as p,t as e,d as l,F as f,r as g,m as h,h as b,i as w}from"./index-CxP04c_4.js";const v={name:"DetailCard",props:{data:{type:Object,required:!0},borrowEvent:{type:Function}},data(){return{apiImagePath:"http://localhost:3000/public/data/uploads/",publishedDate:null}},methods:{format_date(s){s&&(this.publishedDate=m(String(s)).format("DD/MM/YYYY"))}},updated(){this.format_date(this.data.namxuatban)}},D={class:"container p-4"},k={class:"row"},y={class:"col-md-4 text-center"},B=["src"],$={class:""},x=t("button",{class:"col btn-custom"},"Reviews",-1),C={class:"col-md-8"},q=t("i",{class:"fa-solid fa-star yellow"},null,-1),E=t("i",{class:"fa-solid fa-eye"},null,-1),S={class:""},I={class:"fs-2 fw-normal"},M={class:"fs-3"},Y={class:"fs-4"},F={class:""};function P(s,i,n,u,c,d){return o(),r("div",D,[t("div",k,[t("div",y,[t("img",{src:c.apiImagePath+this.data.image,class:"card-image-top image-size borderCustom"},null,8,B),t("div",$,[t("button",{class:"col btn-custom",onClick:i[0]||(i[0]=p((...a)=>n.borrowEvent&&n.borrowEvent(...a),["prevent"]))},"Borrow"),x])]),t("div",C,[t("h1",null,e(this.data.tensach),1),t("h6",null,[q,l(e(this.data.rate+"/10")+", ",1),E,l(e(this.data.view),1)]),t("div",S,[t("p",I,e(this.data.tacgia),1),t("p",M,"Published in: "+e(this.publishedDate),1),t("p",Y,"Remains: "+e(this.data.soquyen||"out of stock"),1),(o(!0),r(f,null,g(this.data.category,a=>(o(),r("span",{key:a},"tag,"))),128)),t("div",F,e(this.data.description),1)])])])])}const R=_(v,[["render",P]]),V={data(){return{data:[]}},components:{DetailCard:R},methods:{async fetchBookDetail(){this.data=await h.getOne(this.$route.query.id),console.log(this.data)},refreshData(){this.fetchBookDetail()},async borrowBook(){if(localStorage.getItem("token")){const s=await h.borrow(localStorage.getItem("id"),this.$route.query.id,this.data.tensach,localStorage.getItem("name"));this.emitter.emit("popUpMessage",{message:"Requested."}),console.log(s)}else this.$router.push({name:"login"})}},mounted(){this.refreshData()}};function N(s,i,n,u,c,d){const a=w("DetailCard");return o(),b(a,{data:this.data,borrowEvent:d.borrowBook},null,8,["data","borrowEvent"])}const j=_(V,[["render",N]]);export{j as default};
